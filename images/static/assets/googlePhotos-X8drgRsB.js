var tr=Object.defineProperty;var Ve=t=>{throw TypeError(t)};var er=(t,e,n)=>e in t?tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>er(t,typeof e!="symbol"?e+"":e,n),me=(t,e,n)=>e.has(t)||Ve("Cannot "+n);var _=(t,e,n)=>(me(t,e,"read from private field"),n?n.call(t):e.get(t)),A=(t,e,n)=>e.has(t)?Ve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),P=(t,e,n,r)=>(me(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(me(t,e,"access private method"),n);import{L as nr,e as ne}from"./config-BqZhBBhP.js";import"./utils-DPM9xUNI.js";const rr="5";var on;typeof window<"u"&&((on=window.__svelte??(window.__svelte={})).v??(on.v=new Set)).add(rr);let te=!1,sr=!1;function ir(){te=!0}ir();const lr=2,fn="[",un="[!",cn="]",At={},T=Symbol(),dn=!1;var hn=Array.isArray,ar=Array.prototype.indexOf,or=Array.from,oe=Object.keys,Dt=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,fr=Object.getOwnPropertyDescriptors,ur=Object.prototype,cr=Array.prototype,_n=Object.getPrototypeOf,We=Object.isExtensible;function dr(t){return t()}function fe(t){for(var e=0;e<t.length;e++)t[e]()}function hr(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}const q=2,vn=4,ge=8,Mt=16,Q=32,dt=64,pn=128,G=256,ue=512,S=1024,Y=2048,ht=4096,ot=8192,It=16384,je=32768,De=65536,Je=1<<17,_r=1<<18,Le=1<<19,gn=1<<20,Ee=1<<21,Fe=1<<22,$t=1<<23,Vt=Symbol("$state"),vr=Symbol("legacy props"),Me=new class extends Error{constructor(){super(...arguments);C(this,"name","StaleReactionError");C(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},bn=3,ce=8;function pr(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function gr(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function br(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function wr(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $r(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mr(t){throw new Error("https://svelte.dev/e/effect_orphan")}function yr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Er(){throw new Error("https://svelte.dev/e/hydration_failed")}function xr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function kr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function be(t){console.warn("https://svelte.dev/e/hydration_mismatch")}let D=!1;function Tt(t){D=t}let x;function ft(t){if(t===null)throw be(),At;return x=t}function Ie(){return ft(Et(x))}function F(t){if(D){if(Et(x)!==null)throw be(),At;x=t}}function Ar(t=1){if(D){for(var e=t,n=x;e--;)n=Et(n);x=n}}function Or(){for(var t=0,e=x;;){if(e.nodeType===ce){var n=e.data;if(n===cn){if(t===0)return e;t-=1}else(n===fn||n===un)&&(t+=1)}var r=Et(e);e.remove(),e=r}}function Sr(t){if(!t||t.nodeType!==ce)throw be(),At;return t.data}function wn(t){return t===this.v}function Cr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $n(t){return!Cr(t,this.v)}let m=null;function de(t){m=t}function mn(t,e=!1,n){m={p:m,c:null,e:null,s:t,x:null,l:te&&!e?{s:null,u:null,$:[]}:null}}function yn(t){var e=m,n=e.e;if(n!==null){e.e=null;for(var r of n)Ln(r)}return m=e.p,{}}function ee(){return!te||m!==null&&m.l===null}const Rr=new WeakMap;function Nr(t){var e=b;if(e===null)return g.f|=$t,t;if((e.f&je)===0){if((e.f&pn)===0)throw!e.parent&&t instanceof Error&&En(t),t;e.b.error(t)}else qe(t,e)}function qe(t,e){for(;e!==null;){if((e.f&pn)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&En(t),t}function En(t){const e=Rr.get(t);e&&(Dt(t,"message",{value:e.message}),Dt(t,"stack",{value:e.stack}))}let Wt=[],xe=[];function xn(){var t=Wt;Wt=[],fe(t)}function Pr(){var t=xe;xe=[],fe(t)}function jr(t){Wt.length===0&&queueMicrotask(xn),Wt.push(t)}function Dr(){Wt.length>0&&xn(),xe.length>0&&Pr()}function Lr(){for(var t=b.b;t!==null&&!t.has_pending_snippet();)t=t.parent;return t===null&&pr(),t}function Ue(t){var e=q|Y,n=g!==null&&(g.f&q)!==0?g:null;return b===null||n!==null&&(n.f&G)!==0?e|=G:b.f|=Le,{ctx:m,deps:null,effects:null,equals:wn,f:e,fn:t,reactions:null,rv:0,v:T,wv:0,parent:n??b,ac:null}}function Fr(t,e){let n=b;n===null&&br();var r=n.b,s=void 0,i=Ge(T),l=null,a=!g;return Xr(()=>{try{var o=t()}catch(d){o=Promise.reject(d)}var f=()=>o;s=(l==null?void 0:l.then(f,f))??Promise.resolve(o),l=s;var u=k,c=r.pending;a&&(r.update_pending_count(1),c||u.increment());const v=(d,h=void 0)=>{l=null,c||u.activate(),h?h!==Me&&(i.f|=$t,Ae(i,h)):((i.f&$t)!==0&&(i.f^=$t),Ae(i,d)),a&&(r.update_pending_count(-1),c||u.decrement()),An()};if(s.then(v,d=>v(null,d||"unknown")),u)return()=>{queueMicrotask(()=>u.neuter())}}),new Promise(o=>{function f(u){function c(){u===s?o(i):f(s)}u.then(c,c)}f(s)})}function Mr(t){const e=Ue(t);return e.equals=$n,e}function kn(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ut(e[n])}}function Ir(t){for(var e=t.parent;e!==null;){if((e.f&q)===0)return e;e=e.parent}return null}function Be(t){var e,n=b;ct(Ir(t));try{kn(t),e=Vn(t)}finally{ct(n)}return e}function Tn(t){var e=Be(t);if(t.equals(e)||(t.v=e,t.wv=Yn()),!qt)if(it!==null)it.set(t,t.v);else{var n=(lt||(t.f&G)!==0)&&t.deps!==null?ht:S;L(t,n)}}function qr(t,e,n){const r=ee()?Ue:Mr;if(e.length===0){n(t.map(r));return}var s=k,i=b,l=Ur(),a=Lr();Promise.all(e.map(o=>Fr(o))).then(o=>{s==null||s.activate(),l();try{n([...t.map(r),...o])}catch(f){(i.f&It)===0&&qe(f,i)}s==null||s.deactivate(),An()}).catch(o=>{a.error(o)})}function Ur(){var t=b,e=g,n=m;return function(){ct(t),K(e),de(n)}}function An(){ct(null),K(null),de(null)}const Gt=new Set;let k=null,it=null,Ke=new Set,he=[];function On(){const t=he.shift();he.length>0&&queueMicrotask(On),t()}let yt=[],we=null,ke=!1,se=!1;var Rt,Nt,rt,zt,Xt,bt,Pt,wt,st,jt,Zt,Qt,H,Sn,ie,Te;const pe=class pe{constructor(){A(this,H);C(this,"current",new Map);A(this,Rt,new Map);A(this,Nt,new Set);A(this,rt,0);A(this,zt,null);A(this,Xt,!1);A(this,bt,[]);A(this,Pt,[]);A(this,wt,[]);A(this,st,[]);A(this,jt,[]);A(this,Zt,[]);A(this,Qt,[]);C(this,"skipped_effects",new Set)}process(e){var i;yt=[];var n=null;if(Gt.size>1){n=new Map,it=new Map;for(const[l,a]of this.current)n.set(l,{v:l.v,wv:l.wv}),l.v=a;for(const l of Gt)if(l!==this)for(const[a,o]of _(l,Rt))n.has(a)||(n.set(a,{v:a.v,wv:a.wv}),a.v=o)}for(const l of e)vt(this,H,Sn).call(this,l);if(_(this,bt).length===0&&_(this,rt)===0){vt(this,H,Te).call(this);var r=_(this,wt),s=_(this,st);P(this,wt,[]),P(this,st,[]),P(this,jt,[]),k=null,ze(r),ze(s),k===null?k=this:Gt.delete(this),(i=_(this,zt))==null||i.resolve()}else vt(this,H,ie).call(this,_(this,wt)),vt(this,H,ie).call(this,_(this,st)),vt(this,H,ie).call(this,_(this,jt));if(n){for(const[l,{v:a,wv:o}]of n)l.wv<=o&&(l.v=a);it=null}for(const l of _(this,bt))Ct(l);for(const l of _(this,Pt))Ct(l);P(this,bt,[]),P(this,Pt,[])}capture(e,n){_(this,Rt).has(e)||_(this,Rt).set(e,n),this.current.set(e,e.v)}activate(){k=this}deactivate(){k=null;for(const e of Ke)if(Ke.delete(e),e(),k!==null)break}neuter(){P(this,Xt,!0)}flush(){yt.length>0?Cn():vt(this,H,Te).call(this),k===this&&(_(this,rt)===0&&Gt.delete(this),this.deactivate())}increment(){P(this,rt,_(this,rt)+1)}decrement(){if(P(this,rt,_(this,rt)-1),_(this,rt)===0){for(const e of _(this,Zt))L(e,Y),Ft(e);for(const e of _(this,Qt))L(e,ht),Ft(e);P(this,wt,[]),P(this,st,[]),this.flush()}else this.deactivate()}add_callback(e){_(this,Nt).add(e)}settled(){return(_(this,zt)??P(this,zt,hr())).promise}static ensure(){if(k===null){const e=k=new pe;Gt.add(k),se||pe.enqueue(()=>{k===e&&e.flush()})}return k}static enqueue(e){he.length===0&&queueMicrotask(On),he.unshift(e)}};Rt=new WeakMap,Nt=new WeakMap,rt=new WeakMap,zt=new WeakMap,Xt=new WeakMap,bt=new WeakMap,Pt=new WeakMap,wt=new WeakMap,st=new WeakMap,jt=new WeakMap,Zt=new WeakMap,Qt=new WeakMap,H=new WeakSet,Sn=function(e){var u;e.f^=S;for(var n=e.first;n!==null;){var r=n.f,s=(r&(Q|dt))!==0,i=s&&(r&S)!==0,l=i||(r&ot)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){if(s)n.f^=S;else if((r&vn)!==0)_(this,st).push(n);else if((r&S)===0)if((r&Fe)!==0){var a=(u=n.b)!=null&&u.pending?_(this,Pt):_(this,bt);a.push(n)}else $e(n)&&((n.f&Mt)!==0&&_(this,jt).push(n),Ct(n));var o=n.first;if(o!==null){n=o;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}},ie=function(e){for(const n of e)((n.f&Y)!==0?_(this,Zt):_(this,Qt)).push(n),L(n,S);e.length=0},Te=function(){if(!_(this,Xt))for(const e of _(this,Nt))e();_(this,Nt).clear()};let Lt=pe;function Br(t){var e=se;se=!0;try{for(var n;;){if(Dr(),yt.length===0&&(k==null||k.flush(),yt.length===0))return we=null,n;Cn()}}finally{se=e}}function Cn(){var t=St;ke=!0;try{var e=0;for(Qe(!0);yt.length>0;){var n=Lt.ensure();if(e++>1e3){var r,s;Gr()}n.process(yt),at.clear()}}finally{ke=!1,Qe(t),we=null}}function Gr(){try{yr()}catch(t){qe(t,we)}}let gt=null;function ze(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(It|ot))===0&&$e(r)&&(gt=[],Ct(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?In(r):r.fn=null),gt.length>0)){at.clear();for(const s of gt)Ct(s);gt=[]}}gt=null}}function Ft(t){for(var e=we=t;e.parent!==null;){e=e.parent;var n=e.f;if(ke&&e===b&&(n&Mt)!==0)return;if((n&(dt|Q))!==0){if((n&S)===0)return;e.f^=S}}yt.push(e)}const at=new Map;function Ge(t,e){var n={f:0,v:t,reactions:null,equals:wn,rv:0,wv:0};return n}function et(t,e){const n=Ge(t);return ss(n),n}function le(t,e=!1,n=!0){var s;const r=Ge(t);return e||(r.equals=$n),te&&n&&m!==null&&m.l!==null&&((s=m.l).s??(s.s=[])).push(r),r}function j(t,e,n=!1){g!==null&&(!J||(g.f&Je)!==0)&&ee()&&(g.f&(q|Mt|Fe|Je))!==0&&!(N!=null&&N.includes(t))&&Tr();let r=n?Yt(e):e;return Ae(t,r)}function Ae(t,e){if(!t.equals(e)){var n=t.v;qt?at.set(t,e):at.set(t,n),t.v=e;var r=Lt.ensure();r.capture(t,n),(t.f&q)!==0&&((t.f&Y)!==0&&Be(t),L(t,(t.f&G)===0?S:ht)),t.wv=Yn(),Rn(t,Y),ee()&&b!==null&&(b.f&S)!==0&&(b.f&(Q|dt))===0&&(U===null?is([t]):U.push(t))}return e}function ye(t){j(t,t.v+1)}function Rn(t,e){var n=t.reactions;if(n!==null)for(var r=ee(),s=n.length,i=0;i<s;i++){var l=n[i],a=l.f;if(!(!r&&l===b)){var o=(a&Y)===0;o&&L(l,e),(a&q)!==0?Rn(l,ht):o&&((a&Mt)!==0&&gt!==null&&gt.push(l),Ft(l))}}}function Yt(t){if(typeof t!="object"||t===null||Vt in t)return t;const e=_n(t);if(e!==ur&&e!==cr)return t;var n=new Map,r=hn(t),s=et(0),i=mt,l=a=>{if(mt===i)return a();var o=g,f=mt;K(null),en(i);var u=a();return K(o),en(f),u};return r&&n.set("length",et(t.length)),new Proxy(t,{defineProperty(a,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&xr();var u=n.get(o);return u===void 0?u=l(()=>{var c=et(f.value);return n.set(o,c),c}):j(u,f.value,!0),!0},deleteProperty(a,o){var f=n.get(o);if(f===void 0){if(o in a){const u=l(()=>et(T));n.set(o,u),ye(s)}}else j(f,T),ye(s);return!0},get(a,o,f){var d;if(o===Vt)return t;var u=n.get(o),c=o in a;if(u===void 0&&(!c||(d=Ot(a,o))!=null&&d.writable)&&(u=l(()=>{var h=Yt(c?a[o]:T),y=et(h);return y}),n.set(o,u)),u!==void 0){var v=O(u);return v===T?void 0:v}return Reflect.get(a,o,f)},getOwnPropertyDescriptor(a,o){var f=Reflect.getOwnPropertyDescriptor(a,o);if(f&&"value"in f){var u=n.get(o);u&&(f.value=O(u))}else if(f===void 0){var c=n.get(o),v=c==null?void 0:c.v;if(c!==void 0&&v!==T)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(a,o){var v;if(o===Vt)return!0;var f=n.get(o),u=f!==void 0&&f.v!==T||Reflect.has(a,o);if(f!==void 0||b!==null&&(!u||(v=Ot(a,o))!=null&&v.writable)){f===void 0&&(f=l(()=>{var d=u?Yt(a[o]):T,h=et(d);return h}),n.set(o,f));var c=O(f);if(c===T)return!1}return u},set(a,o,f,u){var E;var c=n.get(o),v=o in a;if(r&&o==="length")for(var d=f;d<c.v;d+=1){var h=n.get(d+"");h!==void 0?j(h,T):d in a&&(h=l(()=>et(T)),n.set(d+"",h))}if(c===void 0)(!v||(E=Ot(a,o))!=null&&E.writable)&&(c=l(()=>et(void 0)),j(c,Yt(f)),n.set(o,c));else{v=c.v!==T;var y=l(()=>Yt(f));j(c,y)}var p=Reflect.getOwnPropertyDescriptor(a,o);if(p!=null&&p.set&&p.set.call(u,f),!v){if(r&&typeof o=="string"){var w=n.get("length"),$=Number(o);Number.isInteger($)&&$>=w.v&&j(w,$+1)}ye(s)}return!0},ownKeys(a){O(s);var o=Reflect.ownKeys(a).filter(c=>{var v=n.get(c);return v===void 0||v.v!==T});for(var[f,u]of n)u.v!==T&&!(f in a)&&o.push(f);return o},setPrototypeOf(){kr()}})}var Xe,Nn,Pn,jn;function Oe(){if(Xe===void 0){Xe=window,Nn=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Pn=Ot(e,"firstChild").get,jn=Ot(e,"nextSibling").get,We(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),We(n)&&(n.__t=void 0)}}function Jt(t=""){return document.createTextNode(t)}function _e(t){return Pn.call(t)}function Et(t){return jn.call(t)}function M(t,e){if(!D)return _e(t);var n=_e(x);if(n===null)n=x.appendChild(Jt());else if(e&&n.nodeType!==bn){var r=Jt();return n==null||n.before(r),ft(r),r}return ft(n),n}function pt(t,e=1,n=!1){let r=D?x:t;for(var s;e--;)s=r,r=Et(r);if(!D)return r;if(n&&(r==null?void 0:r.nodeType)!==bn){var i=Jt();return r===null?s==null||s.after(i):r.before(i),ft(i),i}return ft(r),r}function Yr(t){t.textContent=""}function Hr(){return!1}function Ye(t){var e=g,n=b;K(null),ct(null);try{return t()}finally{K(e),ct(n)}}function Dn(t){b===null&&g===null&&mr(),g!==null&&(g.f&G)!==0&&b===null&&$r(),qt&&wr()}function Vr(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function z(t,e,n,r=!0){var s=b;s!==null&&(s.f&ot)!==0&&(t|=ot);var i={ctx:m,deps:null,nodes_start:null,nodes_end:null,f:t|Y,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ct(i),i.f|=je}catch(o){throw ut(i),o}else e!==null&&Ft(i);var l=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Le)===0;if(!l&&r&&(s!==null&&Vr(i,s),g!==null&&(g.f&q)!==0&&(t&dt)===0)){var a=g;(a.effects??(a.effects=[])).push(i)}return i}function Wr(t){const e=z(ge,null,!1);return L(e,S),e.teardown=t,e}function Se(t){Dn();var e=b.f,n=!g&&(e&Q)!==0&&(e&je)===0;if(n){var r=m;(r.e??(r.e=[])).push(t)}else return Ln(t)}function Ln(t){return z(vn|gn,t,!1)}function Jr(t){return Dn(),z(ge|gn,t,!0)}function Kr(t){Lt.ensure();const e=z(dt,t,!0);return()=>{ut(e)}}function zr(t){Lt.ensure();const e=z(dt,t,!0);return(n={})=>new Promise(r=>{n.outro?qn(e,()=>{ut(e),r(void 0)}):(ut(e),r(void 0))})}function Xr(t){return z(Fe|Le,t,!0)}function Zr(t,e=0){return z(ge|e,t,!0)}function Ze(t,e=[],n=[]){qr(e,n,r=>{z(ge,()=>t(...r.map(O)),!0)})}function Qr(t,e=0){var n=z(Mt|e,t,!0);return n}function Ce(t,e=!0){return z(Q,t,!0,e)}function Fn(t){var e=t.teardown;if(e!==null){const n=qt,r=g;tn(!0),K(null);try{e.call(null)}finally{tn(n),K(r)}}}function Mn(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Ye(()=>{s.abort(Me)});var r=n.next;(n.f&dt)!==0?n.parent=null:ut(n,e),n=r}}function ts(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Q)===0&&ut(e),e=n}}function ut(t,e=!0){var n=!1;(e||(t.f&_r)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(es(t.nodes_start,t.nodes_end),n=!0),Mn(t,e&&!n),ve(t,0),L(t,It);var r=t.transitions;if(r!==null)for(const i of r)i.stop();Fn(t);var s=t.parent;s!==null&&s.first!==null&&In(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function es(t,e){for(;t!==null;){var n=t===e?null:Et(t);t.remove(),t=n}}function In(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function qn(t,e){var n=[];Un(t,n,!0),ns(n,()=>{ut(t),e&&e()})}function ns(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function Un(t,e,n){if((t.f&ot)===0){if(t.f^=ot,t.transitions!==null)for(const l of t.transitions)(l.is_global||n)&&e.push(l);for(var r=t.first;r!==null;){var s=r.next,i=(r.f&De)!==0||(r.f&Q)!==0;Un(r,e,i?n:!1),r=s}}}function rs(t){Bn(t,!0)}function Bn(t,e){if((t.f&ot)!==0){t.f^=ot,(t.f&S)===0&&(L(t,Y),Ft(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&De)!==0||(n.f&Q)!==0;Bn(n,s?e:!1),n=r}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let St=!1;function Qe(t){St=t}let qt=!1;function tn(t){qt=t}let g=null,J=!1;function K(t){g=t}let b=null;function ct(t){b=t}let N=null;function ss(t){g!==null&&(N===null?N=[t]:N.push(t))}let R=null,I=0,U=null;function is(t){U=t}let Gn=1,Kt=0,mt=Kt;function en(t){mt=t}let lt=!1;function Yn(){return++Gn}function $e(t){var c;var e=t.f;if((e&Y)!==0)return!0;if((e&ht)!==0){var n=t.deps,r=(e&G)!==0;if(n!==null){var s,i,l=(e&ue)!==0,a=r&&b!==null&&!lt,o=n.length;if((l||a)&&(b===null||(b.f&It)===0)){var f=t,u=f.parent;for(s=0;s<o;s++)i=n[s],(l||!((c=i==null?void 0:i.reactions)!=null&&c.includes(f)))&&(i.reactions??(i.reactions=[])).push(f);l&&(f.f^=ue),a&&u!==null&&(u.f&G)===0&&(f.f^=G)}for(s=0;s<o;s++)if(i=n[s],$e(i)&&Tn(i),i.wv>t.wv)return!0}(!r||b!==null&&!lt)&&L(t,S)}return!1}function Hn(t,e,n=!0){var r=t.reactions;if(r!==null&&!(N!=null&&N.includes(t)))for(var s=0;s<r.length;s++){var i=r[s];(i.f&q)!==0?Hn(i,e,!1):e===i&&(n?L(i,Y):(i.f&S)!==0&&L(i,ht),Ft(i))}}function Vn(t){var y;var e=R,n=I,r=U,s=g,i=lt,l=N,a=m,o=J,f=mt,u=t.f;R=null,I=0,U=null,lt=(u&G)!==0&&(J||!St||g===null),g=(u&(Q|dt))===0?t:null,N=null,de(t.ctx),J=!1,mt=++Kt,t.ac!==null&&(Ye(()=>{t.ac.abort(Me)}),t.ac=null);try{t.f|=Ee;var c=t.fn,v=c(),d=t.deps;if(R!==null){var h;if(ve(t,I),d!==null&&I>0)for(d.length=I+R.length,h=0;h<R.length;h++)d[I+h]=R[h];else t.deps=d=R;if(!lt||(u&q)!==0&&t.reactions!==null)for(h=I;h<d.length;h++)((y=d[h]).reactions??(y.reactions=[])).push(t)}else d!==null&&I<d.length&&(ve(t,I),d.length=I);if(ee()&&U!==null&&!J&&d!==null&&(t.f&(q|ht|Y))===0)for(h=0;h<U.length;h++)Hn(U[h],t);return s!==null&&s!==t&&(Kt++,U!==null&&(r===null?r=U:r.push(...U))),(t.f&$t)!==0&&(t.f^=$t),v}catch(p){return Nr(p)}finally{t.f^=Ee,R=e,I=n,U=r,g=s,lt=i,N=l,de(a),J=o,mt=f}}function ls(t,e){let n=e.reactions;if(n!==null){var r=ar.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(e.f&q)!==0&&(R===null||!R.includes(e))&&(L(e,ht),(e.f&(G|ue))===0&&(e.f^=ue),kn(e),ve(e,0))}function ve(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ls(t,n[r])}function Ct(t){var e=t.f;if((e&It)===0){L(t,S);var n=b,r=St;b=t,St=!0;try{(e&Mt)!==0?ts(t):Mn(t),Fn(t);var s=Vn(t);t.teardown=typeof s=="function"?s:null,t.wv=Gn;var i;dn&&sr&&(t.f&Y)!==0&&t.deps}finally{St=r,b=n}}}function O(t){var e=t.f,n=(e&q)!==0;if(g!==null&&!J){var r=b!==null&&(b.f&It)!==0;if(!r&&!(N!=null&&N.includes(t))){var s=g.deps;if((g.f&Ee)!==0)t.rv<Kt&&(t.rv=Kt,R===null&&s!==null&&s[I]===t?I++:R===null?R=[t]:(!lt||!R.includes(t))&&R.push(t));else{(g.deps??(g.deps=[])).push(t);var i=t.reactions;i===null?t.reactions=[g]:i.includes(g)||i.push(g)}}}else if(n&&t.deps===null&&t.effects===null){var l=t,a=l.parent;a!==null&&(a.f&G)===0&&(l.f^=G)}if(qt){if(at.has(t))return at.get(t);if(n){l=t;var o=l.v;return((l.f&S)===0&&l.reactions!==null||Wn(l))&&(o=Be(l)),at.set(l,o),o}}else if(n){if(l=t,it!=null&&it.has(l))return it.get(l);$e(l)&&Tn(l)}if((t.f&$t)!==0)throw t.v;return t.v}function Wn(t){if(t.v===T)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(at.has(e)||(e.f&q)!==0&&Wn(e))return!0;return!1}function Jn(t){var e=J;try{return J=!0,t()}finally{J=e}}const as=-7169;function L(t,e){t.f=t.f&as|e}function os(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Vt in t)Re(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Vt in n&&Re(n)}}}function Re(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Re(t[r],e)}catch{}const n=_n(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=fr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(t)}catch{}}}}}const fs=new Set,nn=new Set;function us(t,e,n,r={}){function s(i){if(r.capture||Ht.call(e,i),!i.cancelBubble)return Ye(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?jr(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function rn(t,e,n,r,s){var i={capture:r,passive:s},l=us(t,e,n,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Wr(()=>{e.removeEventListener(t,l,i)})}let sn=null;function Ht(t){var $;var e=this,n=e.ownerDocument,r=t.type,s=(($=t.composedPath)==null?void 0:$.call(t))||[],i=s[0]||t.target;sn=t;var l=0,a=sn===t&&t.__root;if(a){var o=s.indexOf(a);if(o!==-1&&(e===document||e===window)){t.__root=e;return}var f=s.indexOf(e);if(f===-1)return;o<=f&&(l=o)}if(i=s[l]||t.target,i!==e){Dt(t,"currentTarget",{configurable:!0,get(){return i||n}});var u=g,c=b;K(null),ct(null);try{for(var v,d=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!=null&&(!i.disabled||t.target===i))if(hn(y)){var[p,...w]=y;p.apply(i,[t,...w])}else y.call(i,t)}catch(E){v?d.push(E):v=E}if(t.cancelBubble||h===e||h===null)break;i=h}if(v){for(let E of d)queueMicrotask(()=>{throw E});throw v}}finally{t.__root=e,delete t.currentTarget,K(u),ct(c)}}}function cs(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ne(t,e){var n=b;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function xt(t,e){var n=(e&lr)!==0,r,s=!t.startsWith("<!>");return()=>{if(D)return Ne(x,null),x;r===void 0&&(r=cs(s?t:"<!>"+t),r=_e(r));var i=n||Nn?document.importNode(r,!0):r.cloneNode(!0);return Ne(i,i),i}}function nt(t,e){if(D){b.nodes_end=x,Ie();return}t!==null&&t.before(e)}const ds=["touchstart","touchmove"];function hs(t){return ds.includes(t)}function ln(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function He(t,e){return Kn(t,e)}function _s(t,e){Oe(),e.intro=e.intro??!1;const n=e.target,r=D,s=x;try{for(var i=_e(n);i&&(i.nodeType!==ce||i.data!==fn);)i=Et(i);if(!i)throw At;Tt(!0),ft(i),Ie();const l=Kn(t,{...e,anchor:i});if(x===null||x.nodeType!==ce||x.data!==cn)throw be(),At;return Tt(!1),l}catch(l){if(l instanceof Error&&l.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw l;return l!==At&&console.warn("Failed to hydrate: ",l),e.recover===!1&&Er(),Oe(),Yr(n),Tt(!1),He(t,e)}finally{Tt(r),ft(s)}}const kt=new Map;function Kn(t,{target:e,anchor:n,props:r={},events:s,context:i,intro:l=!0}){Oe();var a=new Set,o=c=>{for(var v=0;v<c.length;v++){var d=c[v];if(!a.has(d)){a.add(d);var h=hs(d);e.addEventListener(d,Ht,{passive:h});var y=kt.get(d);y===void 0?(document.addEventListener(d,Ht,{passive:h}),kt.set(d,1)):kt.set(d,y+1)}}};o(or(fs)),nn.add(o);var f=void 0,u=zr(()=>{var c=n??e.appendChild(Jt());return Ce(()=>{if(i){mn({});var v=m;v.c=i}s&&(r.$$events=s),D&&Ne(c,null),f=t(c,r)||{},D&&(b.nodes_end=x),i&&yn()}),()=>{var h;for(var v of a){e.removeEventListener(v,Ht);var d=kt.get(v);--d===0?(document.removeEventListener(v,Ht),kt.delete(v)):kt.set(v,d)}nn.delete(o),c!==n&&((h=c.parentNode)==null||h.removeChild(c))}});return Pe.set(f,u),f}let Pe=new WeakMap;function vs(t,e){const n=Pe.get(t);return n?(Pe.delete(t),n(e)):Promise.resolve()}function ps(t){m===null&&gr(),te&&m.l!==null?gs(m).m.push(t):Se(()=>{const e=Jn(t);if(typeof e=="function")return e})}function gs(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}function re(t,e,n=!1){D&&Ie();var r=t,s=null,i=null,l=T,a=n?De:0,o=!1;const f=(d,h=!0)=>{o=!0,v(h,d)};var u=null;function c(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var d=l?s:i,h=l?i:s;d&&rs(d),h&&qn(h,()=>{l?i=null:s=null})}const v=(d,h)=>{if(l===(l=d))return;let y=!1;if(D){const V=Sr(r)===un;!!l===V&&(r=Or(),ft(r),Tt(!1),y=!0)}var p=Hr(),w=r;if(p&&(u=document.createDocumentFragment(),u.append(w=Jt())),l?s??(s=h&&Ce(()=>h(w))):i??(i=h&&Ce(()=>h(w))),p){var $=k,E=l?s:i,tt=l?i:s;E&&$.skipped_effects.delete(E),tt&&$.skipped_effects.add(tt),$.add_callback(c)}else c();y&&Tt(!0)};Qr(()=>{o=!1,e(f),o||v(null,null)},a),D&&(r=x)}function bs(t=!1){const e=m,n=e.l.u;if(!n)return;let r=()=>os(e.s);if(t){let s=0,i={};const l=Ue(()=>{let a=!1;const o=e.s;for(const f in o)o[f]!==i[f]&&(i[f]=o[f],a=!0);return a&&s++,s});r=()=>O(l)}n.b.length&&Jr(()=>{an(e,r),fe(n.b)}),Se(()=>{const s=Jn(()=>n.m.map(dr));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&Se(()=>{an(e,r),fe(n.a)})}function an(t,e){if(t.l.s)for(const n of t.l.s)O(n);e()}function ws(t){return new $s(t)}var Z,B;class $s{constructor(e){A(this,Z);A(this,B);var i;var n=new Map,r=(l,a)=>{var o=le(a,!1,!1);return n.set(l,o),o};const s=new Proxy({...e.props||{},$$events:{}},{get(l,a){return O(n.get(a)??r(a,Reflect.get(l,a)))},has(l,a){return a===vr?!0:(O(n.get(a)??r(a,Reflect.get(l,a))),Reflect.has(l,a))},set(l,a,o){return j(n.get(a)??r(a,o),o),Reflect.set(l,a,o)}});P(this,B,(e.hydrate?_s:He)(e.component,{target:e.target,anchor:e.anchor,props:s,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((i=e==null?void 0:e.props)!=null&&i.$$host)||e.sync===!1)&&Br(),P(this,Z,s.$$events);for(const l of Object.keys(_(this,B)))l==="$set"||l==="$destroy"||l==="$on"||Dt(this,l,{get(){return _(this,B)[l]},set(a){_(this,B)[l]=a},enumerable:!0});_(this,B).$set=l=>{Object.assign(s,l)},_(this,B).$destroy=()=>{vs(_(this,B))}}$set(e){_(this,B).$set(e)}$on(e,n){_(this,Z)[e]=_(this,Z)[e]||[];const r=(...s)=>n.call(this,...s);return _(this,Z)[e].push(r),()=>{_(this,Z)[e]=_(this,Z)[e].filter(s=>s!==r)}}$destroy(){_(this,B).$destroy()}}Z=new WeakMap,B=new WeakMap;let zn;typeof HTMLElement=="function"&&(zn=class extends HTMLElement{constructor(e,n,r){super();C(this,"$$ctor");C(this,"$$s");C(this,"$$c");C(this,"$$cn",!1);C(this,"$$d",{});C(this,"$$r",!1);C(this,"$$p_d",{});C(this,"$$l",{});C(this,"$$l_u",new Map);C(this,"$$me");this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const s=this.$$c.$on(e,n);this.$$l_u.set(n,s)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const s=this.$$l_u.get(n);s&&(s(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(s){return i=>{const l=document.createElement("slot");s!=="default"&&(l.name=s),nt(i,l)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=ms(this);for(const s of this.$$s)s in r&&(s==="default"&&!this.$$d.children?(this.$$d.children=e(s),n.default=!0):n[s]=e(s));for(const s of this.attributes){const i=this.$$g_p(s.name);i in this.$$d||(this.$$d[i]=ae(i,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=ws({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Kr(()=>{Zr(()=>{var s;this.$$r=!0;for(const i of oe(this.$$c)){if(!((s=this.$$p_d[i])!=null&&s.reflect))continue;this.$$d[i]=this.$$c[i];const l=ae(i,this.$$d[i],this.$$p_d,"toAttribute");l==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,l)}this.$$r=!1})});for(const s in this.$$l)for(const i of this.$$l[s]){const l=this.$$c.$on(s,i);this.$$l_u.set(i,l)}this.$$l={}}}attributeChangedCallback(e,n,r){var s;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ae(e,r,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return oe(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function ae(t,e,n,r){var i;const s=(i=n[t])==null?void 0:i.type;if(e=s==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(s){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function ms(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}function ys(t,e,n,r,s,i){let l=class extends zn{constructor(){super(t,n,s),this.$$p_d=e}static get observedAttributes(){return oe(e).map(a=>(e[a].attribute||a).toLowerCase())}};return oe(e).forEach(a=>{Dt(l.prototype,a,{get(){return this.$$c&&a in this.$$c?this.$$c[a]:this.$$d[a]},set(o){var c;o=ae(a,o,e),this.$$d[a]=o;var f=this.$$c;if(f){var u=(c=Ot(f,a))==null?void 0:c.get;u?f[a]=o:f.$set({[a]:o})}}})}),r.forEach(a=>{Dt(l.prototype,a,{get(){var o;return(o=this.$$c)==null?void 0:o[a]}})}),t.element=l,l}var Es=xt('<span class="inline-flex items-center gap-1 rounded-full bg-emerald-100 text-emerald-700 px-3 py-1 text-xs font-medium border border-emerald-200"><span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span> Active</span>'),xs=xt('<span class="inline-flex items-center gap-1 rounded-full bg-rose-100 text-rose-700 px-3 py-1 text-xs font-medium border border-rose-200"><span class="w-2 h-2 rounded-full bg-rose-500"></span> Inactive</span>'),ks=xt('<p class="text-xs text-gray-500">Your client is registered but not yet activated. Click Activate to start the OAuth flow.</p>'),Ts=xt('<div class="rounded-lg border shadow-sm bg-white/70 backdrop-blur p-5 space-y-4"><header class="flex items-center justify-between"><h2 class="text-lg font-semibold">Google Photos OAuth Client</h2> <!></header> <div class="text-sm"><p class="font-mono break-all bg-gray-50 border rounded p-3 text-gray-700" aria-label="Client ID"> </p></div> <!></div>'),As=xt('<div class="rounded-lg border shadow-sm bg-white/70 backdrop-blur overflow-hidden"><div class="p-5 space-y-4"><h2 class="text-lg font-semibold">Connect Google Photos</h2> <ul class="text-sm list-disc pl-5 space-y-1 text-gray-700"><li>Create an OAuth Client (Web application) in Google Cloud Console.</li> <li>Enable <b>Google Photos Library API</b>.</li> <li>Add redirect URI: <code class="bg-gray-100 px-1 py-0.5 rounded text-xs">http://localhost:5000/api/OAuthCallback</code></li> <li>Your data stays between you and Google.</li></ul> <div class="mt-4"><label class="block text-xs font-medium mb-1 text-gray-600">Upload client_secret.json</label> <label class="group cursor-pointer w-full"><div class="flex flex-col items-center justify-center gap-2 rounded border-2 border-dashed p-6 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 transition"><span class="text-sm font-medium text-blue-700 group-hover:scale-105 transition"> </span> <span class="text-[11px] text-blue-500">Only .json generated by Google Cloud Console</span></div> <input id="file" type="file" class="hidden" accept=".json,application/json" aria-label="Upload Google OAuth client secret JSON"/></label></div></div></div>'),Os=xt('<div class="flex justify-center"><button class="bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white font-medium px-5 py-2.5 rounded-md shadow-sm transition text-sm">Activate Google Photos</button></div>'),Ss=xt('<div class="w-full flex justify-center px-4"><div class="w-full max-w-2xl space-y-6"><!> <!></div></div>');function Xn(t,e){mn(e,!1),new nr({title:"Google Photos - Hachi",currentPage:"/google-photos.html",showNavbar:!0});let n=le(null),r=le(!1),s=le("Upload Client secret json");async function i(){const w=await(await fetch(ne.BASE_URL+"/api/gClientInfo")).json();w.client_id_available&&(j(n,w),j(r,!O(n).is_activated))}ps(()=>{i()});async function l(){const w=await(await fetch(ne.BASE_URL+"/api/statusGAuthFlow")).json();w.finished?setTimeout(l,2e3):(j(r,!1),alert("Account Activation: "+w.status.toString()),i())}async function a(p){p.target.disabled=!0,p.target.innerText="activation in progress...",(await fetch(ne.BASE_URL+"/api/beginGAuthFlow")).ok?setTimeout(l,1e3):(alert("Some error occurred while starting authorization flow!"),p.target.disabled=!1,p.target.innerText="Activate Google Photos")}function o(p){let w="http://localhost:5000/api/OAuthCallback";j(s,"upload in progress.."),p.preventDefault(),console.log(p.target),p.target.disabled=!0;var $=new FileReader;$.onload=function(){var E=JSON.parse($.result);let V=Object.keys(E).includes("web"),X=!1;if(V&&Object.keys(E.web).includes("redirect_uris")&&(X=E.web.redirect_uris.includes(w)),V===!0&&X==!0){let _t=new FormData;_t.append("client_data",$.result),fetch(ne.BASE_URL+"/api/uploadClientData",{method:"POST",body:_t}).then(Ut=>{Ut.ok==!1?alert("Some error occured !!"):(j(s,"Upload Client secret json"),i(),p.target.disabled=!1,j(r,!0))})}else{alert("Must be a webapp and redirect_uris must contain: "+w);return}},$.readAsText(p.target.files[0])}bs();var f=Ss(),u=M(f),c=M(u);{var v=p=>{var w=Ts(),$=M(w),E=pt(M($),2);{var tt=W=>{var Bt=Es();nt(W,Bt)},V=W=>{var Bt=xs();nt(W,Bt)};re(E,W=>{O(n).is_activated?W(tt):W(V,!1)})}F($);var X=pt($,2),_t=M(X),Ut=M(_t,!0);F(_t),F(X);var Zn=pt(X,2);{var Qn=W=>{var Bt=ks();nt(W,Bt)};re(Zn,W=>{O(n).is_activated||W(Qn)})}F(w),Ze(()=>ln(Ut,O(n).client_id)),nt(p,w)},d=p=>{var w=As(),$=M(w),E=pt(M($),4),tt=pt(M(E),2),V=M(tt),X=M(V),_t=M(X,!0);F(X),Ar(2),F(V);var Ut=pt(V,2);F(tt),F(E),F($),F(w),Ze(()=>ln(_t,O(s))),rn("change",Ut,o),nt(p,w)};re(c,p=>{O(n)?p(v):p(d,!1)})}var h=pt(c,2);{var y=p=>{var w=Os(),$=M(w);F(w),rn("click",$,a),nt(p,w)};re(h,p=>{O(r)&&p(y)})}F(u),F(f),nt(t,f),yn()}ys(Xn,{},[],[],!0);He(Xn,{target:document.getElementById("main")});
